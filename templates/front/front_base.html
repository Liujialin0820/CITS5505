{% from 'common/_macros.html' import static%}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}{% endblock %}</title> <!-- Dynamic page title -->

    <!-- jQuery library -->
    <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

    <!-- Bootstrap CSS and JS -->
    <link href="http://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="http://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- MD5 library for hashing -->
    <script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>

    <!-- Common utility scripts -->
    <script src="{{ static('common/zlparam.js') }}"></script>
    <script src="{{ static("common/zlajax.js") }}"></script>

    <!-- SweetAlert library for alerts -->
    <link rel="stylesheet" href="{{ static("common/sweetalert/sweetalert.css") }}">
    <script src="{{ static("common/sweetalert/sweetalert.min.js") }}"></script>
    <script src="{{ static("common/sweetalert/zlalert.js") }}"></script>

    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />

    <!-- Main frontend stylesheet -->
    <link rel="stylesheet" href="{{ url_for('static', filename='front/css/front_index.css') }}" />

    {% block head %} {% endblock %} <!-- Additional page-specific head content -->
  </head>

  <body>
    <!-- Sidebar navigation layout -->
    <div class="sidebar">
      <div>
        <!-- Logo at the top of sidebar -->
        <img src="{{ url_for('static',filename='common/images/logo.png')}}" alt="Logo" width="80" />

        <!-- Navigation links -->
        <nav>
          <a href="{{ url_for('front.index') }}">Dashboard</a>
          <a href="{{url_for('front.timetable')}}">Timetable</a>
          <a href="{{url_for('front.preference')}}">Preference</a>
          <a href="{{ url_for('front.message_page') }}">Message</a>
        </nav>
      </div>
      
      <!-- User info and logout button -->
      <div class="sidebar-footer">
        <div class="user-profile">
          <div class="user-info">
            <!-- User icon -->
            <svg class="user-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                fill="currentColor"
                d="M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zm0 
                       2c-3.314 0-10 1.672-10 5v3h20v-3c0-3.328-6.686-5-10-5z"
              />
            </svg>
            <!-- Display username and student ID -->
            <div class="details">
              <span class="name">{{g.user.username}}</span>
              <span class="id">{{g.user.stu_id}}</span>
            </div>
          </div>
          <!-- Logout button -->
          <a href="{{ url_for ('front.logout')}}" class="logout-btn">
            <svg class="logout-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                fill="currentColor"
                d="M16 17l5-5-5-5v3H9v4h7v3zM4 4h8v2H4v12h8v2H4a2 2 0 01-2-2V6a2 2 
                   0 012-2z"
              />
            </svg>
          </a>
        </div>
      </div>
    </div>

    <!-- Main content area -->
    <div class="main-content">{% block main_content %} {% endblock %}</div>

  </body>
</html>
